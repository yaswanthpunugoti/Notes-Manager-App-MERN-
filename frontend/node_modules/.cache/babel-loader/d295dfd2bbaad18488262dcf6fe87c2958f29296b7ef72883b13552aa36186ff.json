{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yaswanthpunu\\\\Downloads\\\\notes-manager-fixed\\\\frontend\\\\src\\\\pages\\\\AdminPanel.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport api from '../api/axios';\nimport NoteItem from '../components/NoteItem';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AdminPanel() {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [notes, setNotes] = useState([]);\n  const [err, setErr] = useState('');\n  const fetchUsers = async () => {\n    try {\n      const res = await api.get('/admin/users');\n      setUsers(res.data);\n    } catch (e) {\n      setErr('Could not load users (admin only)');\n    }\n  };\n  const fetchNotes = async () => {\n    try {\n      const res = await api.get('/admin/notes');\n      setNotes(res.data);\n    } catch (e) {\n      setErr('Could not load notes (admin only)');\n    }\n  };\n  useEffect(() => {\n    fetchUsers();\n    fetchNotes();\n  }, []);\n  const deleteNote = async id => {\n    if (!window.confirm('Delete this note as admin?')) return;\n    try {\n      await api.delete(`/admin/notes/${id}`);\n      setNotes(prev => prev.filter(n => n._id !== id));\n    } catch (e) {\n      setErr('Admin delete failed');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Admin Panel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), err && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Registered Users\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), users.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No users found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 29\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: users.map(u => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [u.name || '-', \" \\u2014 \", u.email, \" \\u2014 \", u.role]\n        }, u._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 28\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"All Notes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), notes.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No notes found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 29\n      }, this) : notes.map(n => {\n        var _n$user;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: n.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 16\n            }, this), \" by \", ((_n$user = n.user) === null || _n$user === void 0 ? void 0 : _n$user.email) || 'unknown']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: n.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => deleteNote(n._id),\n            children: \"Delete note\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this)]\n        }, n._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminPanel, \"al8UuD8MEYqW18u3Isecq1uGKKI=\");\n_c = AdminPanel;\nvar _c;\n$RefreshReg$(_c, \"AdminPanel\");","map":{"version":3,"names":["React","useEffect","useState","api","NoteItem","jsxDEV","_jsxDEV","AdminPanel","_s","users","setUsers","notes","setNotes","err","setErr","fetchUsers","res","get","data","e","fetchNotes","deleteNote","id","window","confirm","delete","prev","filter","n","_id","children","fileName","_jsxFileName","lineNumber","columnNumber","className","length","map","u","name","email","role","_n$user","title","user","description","onClick","_c","$RefreshReg$"],"sources":["C:/Users/yaswanthpunu/Downloads/notes-manager-fixed/frontend/src/pages/AdminPanel.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport api from '../api/axios';\nimport NoteItem from '../components/NoteItem';\n\nexport default function AdminPanel(){\n  const [users, setUsers] = useState([]);\n  const [notes, setNotes] = useState([]);\n  const [err, setErr] = useState('');\n\n  const fetchUsers = async () => {\n    try {\n      const res = await api.get('/admin/users');\n      setUsers(res.data);\n    } catch (e) { setErr('Could not load users (admin only)'); }\n  };\n  const fetchNotes = async () => {\n    try {\n      const res = await api.get('/admin/notes');\n      setNotes(res.data);\n    } catch (e) { setErr('Could not load notes (admin only)'); }\n  };\n\n  useEffect(()=>{ fetchUsers(); fetchNotes(); }, []);\n\n  const deleteNote = async (id) => {\n    if (!window.confirm('Delete this note as admin?')) return;\n    try {\n      await api.delete(`/admin/notes/${id}`);\n      setNotes(prev => prev.filter(n => n._id !== id));\n    } catch (e) { setErr('Admin delete failed'); }\n  };\n\n  return (\n    <div>\n      <h2>Admin Panel</h2>\n      {err && <p className=\"error\">{err}</p>}\n      <section>\n        <h3>Registered Users</h3>\n        {users.length===0 ? <p>No users found.</p> : (\n          <ul>\n            {users.map(u=> <li key={u._id}>{u.name || '-'} — {u.email} — {u.role}</li>)}\n          </ul>\n        )}\n      </section>\n\n      <section>\n        <h3>All Notes</h3>\n        {notes.length===0 ? <p>No notes found.</p> : notes.map(n=> (\n          <div key={n._id}>\n            <p><strong>{n.title}</strong> by {n.user?.email || 'unknown'}</p>\n            <p>{n.description}</p>\n            <button onClick={()=>deleteNote(n._id)}>Delete note</button>\n            <hr/>\n          </div>\n        ))}\n      </section>\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,GAAG,MAAM,cAAc;AAC9B,OAAOC,QAAQ,MAAM,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,eAAe,SAASC,UAAUA,CAAA,EAAE;EAAAC,EAAA;EAClC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACS,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACW,GAAG,EAAEC,MAAM,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAElC,MAAMa,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMb,GAAG,CAACc,GAAG,CAAC,cAAc,CAAC;MACzCP,QAAQ,CAACM,GAAG,CAACE,IAAI,CAAC;IACpB,CAAC,CAAC,OAAOC,CAAC,EAAE;MAAEL,MAAM,CAAC,mCAAmC,CAAC;IAAE;EAC7D,CAAC;EACD,MAAMM,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACF,MAAMJ,GAAG,GAAG,MAAMb,GAAG,CAACc,GAAG,CAAC,cAAc,CAAC;MACzCL,QAAQ,CAACI,GAAG,CAACE,IAAI,CAAC;IACpB,CAAC,CAAC,OAAOC,CAAC,EAAE;MAAEL,MAAM,CAAC,mCAAmC,CAAC;IAAE;EAC7D,CAAC;EAEDb,SAAS,CAAC,MAAI;IAAEc,UAAU,CAAC,CAAC;IAAEK,UAAU,CAAC,CAAC;EAAE,CAAC,EAAE,EAAE,CAAC;EAElD,MAAMC,UAAU,GAAG,MAAOC,EAAE,IAAK;IAC/B,IAAI,CAACC,MAAM,CAACC,OAAO,CAAC,4BAA4B,CAAC,EAAE;IACnD,IAAI;MACF,MAAMrB,GAAG,CAACsB,MAAM,CAAC,gBAAgBH,EAAE,EAAE,CAAC;MACtCV,QAAQ,CAACc,IAAI,IAAIA,IAAI,CAACC,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAKP,EAAE,CAAC,CAAC;IAClD,CAAC,CAAC,OAAOH,CAAC,EAAE;MAAEL,MAAM,CAAC,qBAAqB,CAAC;IAAE;EAC/C,CAAC;EAED,oBACER,OAAA;IAAAwB,QAAA,gBACExB,OAAA;MAAAwB,QAAA,EAAI;IAAW;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACnBrB,GAAG,iBAAIP,OAAA;MAAG6B,SAAS,EAAC,OAAO;MAAAL,QAAA,EAAEjB;IAAG;MAAAkB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACtC5B,OAAA;MAAAwB,QAAA,gBACExB,OAAA;QAAAwB,QAAA,EAAI;MAAgB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EACxBzB,KAAK,CAAC2B,MAAM,KAAG,CAAC,gBAAG9B,OAAA;QAAAwB,QAAA,EAAG;MAAe;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,gBACxC5B,OAAA;QAAAwB,QAAA,EACGrB,KAAK,CAAC4B,GAAG,CAACC,CAAC,iBAAGhC,OAAA;UAAAwB,QAAA,GAAiBQ,CAAC,CAACC,IAAI,IAAI,GAAG,EAAC,UAAG,EAACD,CAAC,CAACE,KAAK,EAAC,UAAG,EAACF,CAAC,CAACG,IAAI;QAAA,GAA5CH,CAAC,CAACT,GAAG;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAA4C,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzE,CACL;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACM,CAAC,eAEV5B,OAAA;MAAAwB,QAAA,gBACExB,OAAA;QAAAwB,QAAA,EAAI;MAAS;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EACjBvB,KAAK,CAACyB,MAAM,KAAG,CAAC,gBAAG9B,OAAA;QAAAwB,QAAA,EAAG;MAAe;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,GAAGvB,KAAK,CAAC0B,GAAG,CAACT,CAAC;QAAA,IAAAc,OAAA;QAAA,oBACtDpC,OAAA;UAAAwB,QAAA,gBACExB,OAAA;YAAAwB,QAAA,gBAAGxB,OAAA;cAAAwB,QAAA,EAASF,CAAC,CAACe;YAAK;cAAAZ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAS,CAAC,QAAI,EAAC,EAAAQ,OAAA,GAAAd,CAAC,CAACgB,IAAI,cAAAF,OAAA,uBAANA,OAAA,CAAQF,KAAK,KAAI,SAAS;UAAA;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACjE5B,OAAA;YAAAwB,QAAA,EAAIF,CAAC,CAACiB;UAAW;YAAAd,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACtB5B,OAAA;YAAQwC,OAAO,EAAEA,CAAA,KAAIzB,UAAU,CAACO,CAAC,CAACC,GAAG,CAAE;YAAAC,QAAA,EAAC;UAAW;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC5D5B,OAAA;YAAAyB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA,GAJGN,CAAC,CAACC,GAAG;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAKV,CAAC;MAAA,CACP,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACK,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV;AAAC1B,EAAA,CAtDuBD,UAAU;AAAAwC,EAAA,GAAVxC,UAAU;AAAA,IAAAwC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}