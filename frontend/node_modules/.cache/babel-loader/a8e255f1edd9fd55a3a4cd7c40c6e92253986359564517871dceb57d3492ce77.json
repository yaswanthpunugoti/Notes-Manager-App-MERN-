{"ast":null,"code":"import{useEffect,useState}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Dashboard(){const navigate=useNavigate();const[notes,setNotes]=useState([]);const[showModal,setShowModal]=useState(false);const[title,setTitle]=useState(\"\");const[description,setDescription]=useState(\"\");const token=localStorage.getItem(\"token\");const fetchNotes=async()=>{try{const res=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/notes\"),{headers:{Authorization:\"Bearer \".concat(token)}});setNotes(res.data);}catch(err){console.error(err);}};const handleAddNote=async e=>{e.preventDefault();try{await axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/notes\"),{title,description},{headers:{Authorization:\"Bearer \".concat(token)}});setTitle(\"\");setDescription(\"\");setShowModal(false);fetchNotes();}catch(err){console.error(err);}};const handleDelete=async id=>{await axios.delete(\"\".concat(process.env.REACT_APP_API_URL,\"/api/notes\").concat(id),{headers:{Authorization:\"Bearer \".concat(token)}});fetchNotes();};useEffect(()=>{if(!token)navigate(\"/login\");fetchNotes();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center bg-white shadow px-6 py-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-indigo-600\",children:\"\\uD83D\\uDCD2 My Notes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{localStorage.removeItem(\"token\");navigate(\"/login\");},className:\"bg-red-500 text-white px-4 py-2 rounded-xl hover:bg-red-600\",children:\"Logout\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\",children:notes.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500 col-span-full\",children:\"No notes yet. Click + to add one!\"}):notes.map(note=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-5 rounded-xl shadow-md hover:shadow-lg transition\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800\",children:note.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:note.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end mt-4 space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"px-3 py-1 bg-yellow-400 rounded-lg text-sm\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(note._id),className:\"px-3 py-1 bg-red-500 text-white rounded-lg text-sm\",children:\"Delete\"})]})]},note._id))}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowModal(true),className:\"fixed bottom-8 right-8 bg-indigo-600 text-white p-4 rounded-full shadow-xl hover:bg-indigo-700 text-2xl\",children:\"+\"}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg p-6 w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Add New Note\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddNote,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Title\",className:\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500\",value:title,onChange:e=>setTitle(e.target.value),required:true}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Description\",rows:\"4\",className:\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500\",value:description,onChange:e=>setDescription(e.target.value),required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowModal(false),className:\"px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700\",children:\"Save\"})]})]})]})})]});}","map":{"version":3,"names":["useEffect","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Dashboard","navigate","notes","setNotes","showModal","setShowModal","title","setTitle","description","setDescription","token","localStorage","getItem","fetchNotes","res","get","concat","process","env","REACT_APP_API_URL","headers","Authorization","data","err","console","error","handleAddNote","e","preventDefault","post","handleDelete","id","delete","className","children","onClick","removeItem","length","map","note","_id","onSubmit","type","placeholder","value","onChange","target","required","rows"],"sources":["C:/Users/yaswanthpunu/Downloads/notes-manager-fixed/frontend/src/pages/Dashboard.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function Dashboard() {\n  const navigate = useNavigate();\n  const [notes, setNotes] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const token = localStorage.getItem(\"token\");\n\n  const fetchNotes = async () => {\n    try {\n      const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/notes`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setNotes(res.data);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleAddNote = async (e) => {\n    e.preventDefault();\n    try {\n      await axios.post(\n        `${process.env.REACT_APP_API_URL}/api/notes`,\n        { title, description },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n      setTitle(\"\");\n      setDescription(\"\");\n      setShowModal(false);\n      fetchNotes();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleDelete = async (id) => {\n    await axios.delete(`${process.env.REACT_APP_API_URL}/api/notes${id}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    fetchNotes();\n  };\n\n  useEffect(() => {\n    if (!token) navigate(\"/login\");\n    fetchNotes();\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Navbar */}\n      <div className=\"flex justify-between items-center bg-white shadow px-6 py-4\">\n        <h1 className=\"text-2xl font-bold text-indigo-600\">ðŸ“’ My Notes</h1>\n        <button\n          onClick={() => {\n            localStorage.removeItem(\"token\");\n            navigate(\"/login\");\n          }}\n          className=\"bg-red-500 text-white px-4 py-2 rounded-xl hover:bg-red-600\"\n        >\n          Logout\n        </button>\n      </div>\n\n      {/* Notes Grid */}\n      <div className=\"p-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {notes.length === 0 ? (\n          <p className=\"text-center text-gray-500 col-span-full\">\n            No notes yet. Click + to add one!\n          </p>\n        ) : (\n          notes.map((note) => (\n            <div\n              key={note._id}\n              className=\"bg-white p-5 rounded-xl shadow-md hover:shadow-lg transition\"\n            >\n              <h3 className=\"text-lg font-semibold text-gray-800\">\n                {note.title}\n              </h3>\n              <p className=\"text-gray-600 mt-2\">{note.description}</p>\n              <div className=\"flex justify-end mt-4 space-x-2\">\n                <button className=\"px-3 py-1 bg-yellow-400 rounded-lg text-sm\">\n                  Edit\n                </button>\n                <button\n                  onClick={() => handleDelete(note._id)}\n                  className=\"px-3 py-1 bg-red-500 text-white rounded-lg text-sm\"\n                >\n                  Delete\n                </button>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n\n      {/* Floating Add Note Button */}\n      <button\n        onClick={() => setShowModal(true)}\n        className=\"fixed bottom-8 right-8 bg-indigo-600 text-white p-4 rounded-full shadow-xl hover:bg-indigo-700 text-2xl\"\n      >\n        +\n      </button>\n\n      {/* Modal for Adding Note */}\n      {showModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center\">\n          <div className=\"bg-white rounded-xl shadow-lg p-6 w-full max-w-md\">\n            <h2 className=\"text-xl font-bold mb-4\">Add New Note</h2>\n            <form onSubmit={handleAddNote} className=\"space-y-4\">\n              <input\n                type=\"text\"\n                placeholder=\"Title\"\n                className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500\"\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n                required\n              />\n              <textarea\n                placeholder=\"Description\"\n                rows=\"4\"\n                className=\"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                required\n              ></textarea>\n              <div className=\"flex justify-end space-x-2\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowModal(false)}\n                  className=\"px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700\"\n                >\n                  Save\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}